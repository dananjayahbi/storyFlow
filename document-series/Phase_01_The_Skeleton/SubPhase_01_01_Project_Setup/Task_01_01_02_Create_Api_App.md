# Task 01.01.02 — Create API App

## Metadata

| Field                    | Value                                                                                  |
| ------------------------ | -------------------------------------------------------------------------------------- |
| **Sub-Phase**            | SubPhase 01.01 — Project Initialization & Tooling Setup                                |
| **Phase**                | Phase 01 — The Skeleton                                                                |
| **Document Type**        | Layer 3 — Task Document                                                                |
| **Estimated Complexity** | Low                                                                                    |
| **Dependencies**         | [Task_01_01_01](Task_01_01_01_Initialize_Django_Project.md) — Django project must exist |
| **Parent Document**      | [SubPhase_01_01_Overview.md](SubPhase_01_01_Overview.md) (Layer 2, §5.2)               |

---

## Objective

Create the `api` Django app inside `/backend` using `python manage.py startapp api`. This is the **single Django app** that will house all models, serializers, views, and URL routing for StoryFlow v1.0. No additional Django apps are created.

---

## Instructions

### Step 1: Navigate to the Backend Directory and Activate the Virtual Environment

```bash
cd backend
```

Activate the virtual environment:

- **Windows (PowerShell):** `venv\Scripts\activate`
- **macOS / Linux:** `source venv/bin/activate`

Verify activation — the prompt should show `(venv)`.

---

### Step 2: Create the API App

Run the Django `startapp` command:

```bash
python manage.py startapp api
```

This auto-generates the standard Django app directory structure inside `backend/api/`.

---

### Step 3: Verify the Generated Files

Confirm that the following files and directories were created:

```
backend/api/
├── __init__.py
├── admin.py
├── apps.py
├── models.py
├── tests.py
├── views.py
└── migrations/
    └── __init__.py
```

Each file is generated with Django's default boilerplate content:

| File              | Default Content                                | Populated In      |
| ----------------- | ---------------------------------------------- | ----------------- |
| `__init__.py`     | Empty                                          | —                 |
| `admin.py`        | `from django.contrib import admin`             | SubPhase 01.02    |
| `apps.py`         | `ApiConfig` class                              | —                 |
| `models.py`       | `from django.db import models`                 | SubPhase 01.02    |
| `tests.py`        | `from django.test import TestCase`             | Phase 02+         |
| `views.py`        | `from django.shortcuts import render`          | SubPhase 01.03    |
| `migrations/`     | Directory with `__init__.py`                   | SubPhase 01.02    |

> **Important:** Do NOT add any model definitions, serializers, views, or URL patterns at this stage. Those are handled by SubPhase 01.02 and 01.03. The files should remain in their default auto-generated state.

> **Important:** Note that `serializers.py` and `urls.py` are NOT auto-generated by `startapp`. They do not exist yet and will be manually created in SubPhase 01.02 and 01.03 respectively.

---

## Expected Output

After completing this task:

```
backend/
├── manage.py
├── storyflow_backend/
│   ├── __init__.py
│   ├── settings.py
│   ├── urls.py
│   └── wsgi.py
├── api/                          ← NEW
│   ├── __init__.py
│   ├── admin.py
│   ├── apps.py
│   ├── models.py
│   ├── tests.py
│   ├── views.py
│   └── migrations/
│       └── __init__.py
└── venv/
```

The `api` app exists with all default Django app files. No code has been added — files contain only auto-generated boilerplate.

> **Note:** The `api` app is NOT yet registered in `INSTALLED_APPS` — that happens in [Task 01.01.05](Task_01_01_05_Configure_Django_Settings.md). The app creation is independent of settings configuration.

---

## Validation

- [ ] `backend/api/` directory exists.
- [ ] `backend/api/__init__.py` exists.
- [ ] `backend/api/admin.py` exists with default boilerplate.
- [ ] `backend/api/apps.py` exists with `ApiConfig` class.
- [ ] `backend/api/models.py` exists with default boilerplate.
- [ ] `backend/api/tests.py` exists with default boilerplate.
- [ ] `backend/api/views.py` exists with default boilerplate.
- [ ] `backend/api/migrations/__init__.py` exists.
- [ ] No `serializers.py` or `urls.py` exists inside `api/` (those are created later).
- [ ] `python manage.py runserver` still starts successfully after app creation.

---

## Notes

- The `api` app is the **ONLY** Django app for StoryFlow v1.0. Do not create separate apps for projects, segments, or settings. All domain logic lives in this single app.
- The `startapp` command does NOT create `serializers.py` or `urls.py` — those are Django REST Framework conventions, not standard Django files. They will be manually created in SubPhase 01.02 (`serializers.py`) and SubPhase 01.03 (`urls.py`).
- The `apps.py` file contains an `ApiConfig` class with `default_auto_field = 'django.db.models.BigAutoField'` and `name = 'api'`. This is used when registering the app in `INSTALLED_APPS`.

---

> **Parent:** [SubPhase_01_01_Overview.md](SubPhase_01_01_Overview.md) (Layer 2)
> **Phase:** [Phase_01_Overview.md](../Phase_01_Overview.md) (Layer 1)
> **Layer 0:** [00_Project_Overview.md](../../00_Project_Overview.md)
> **Previous Task:** [Task_01_01_01_Initialize_Django_Project.md](Task_01_01_01_Initialize_Django_Project.md)
> **Next Task:** [Task_01_01_03_Create_Core_Engine_Module.md](Task_01_01_03_Create_Core_Engine_Module.md)
